<?php if ($this->list) { ?><?php foreach($this->list AS $key => $val) { ?><li id="notification_<?php echo $val['notification_id']; ?>"<?php if ($val['read_flag'] == 0) { ?> class="i_bold"<?php } ?>><p class="ex_hs i_right"><?php if ($val['extend_count'] > 1) { ?><span onClick="$.I.msg(this,'li');"><?php _e('展开'); ?></span><?php } ?><?php if ($this->flag == 0) { ?><em class="x i_small" title="<?php _e('删除'); ?>" onClick="read_notification(<?php echo $val['notification_id']; ?>, $(this).parents('li'), false);">X</em><?php } ?></p>	<?php if ($val['extend_count'] > 1) { ?>		<?php if ($val['model_type'] == notify_class::CATEGORY_QUESTION) { ?>			<?php echo $val['extend_count']; ?> <?php _e('项关于问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a>		<?php } ?>	<?php } else { ?>		<?php if ($val['action_type'] == notify_class::TYPE_PEOPLE_FOCUS) { ?>			<a href="<?php echo $val['key_url']; ?>" title="<?php echo $val['p_username']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('关注了你'); ?>		<?php } else if ($val['action_type'] == notify_class::TYPE_NEW_ANSWER) { ?>			<?php if($val['anonymous']){ ?><?php _e('匿名用户'); ?><?php } else { ?><a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a><?php } ?> <?php _e('回复了问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a>		<?php } else if ($val['action_type'] == notify_class::TYPE_COMMENT_AT_ME) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('在问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a> <?php _e('中的评论提到了你'); ?>		<?php } else if ($val['action_type'] == notify_class::TYPE_INVITE_QUESTION) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('邀请你参与问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a>		<?php } else if ($val['action_type'] == notify_class::TYPE_ANSWER_COMMENT) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('评论了你在问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a> <?php _e('中的回复'); ?>		<?php } else if ($val['action_type'] == notify_class::TYPE_QUESTION_COMMENT) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('评论了你发起的问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a>		<?php } else if ($val['action_type'] == notify_class::TYPE_ANSWER_AGREE) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('赞同了你在问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a> <?php _e('中的回复'); ?>		<?php } else if ($val['action_type'] == notify_class::TYPE_ANSWER_THANK) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('感谢了你在问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a> <?php _e('中的回复'); ?>		<?php } else if ($val['action_type'] == notify_class::TYPE_MOD_QUESTION) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('编辑了你发布的问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a>		<?php } else if ($val['action_type'] == notify_class::TYPE_REMOVE_ANSWER) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('删除了你在问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a> <?php _e('中的回复'); ?>		<?php } else if ($val['action_type'] == notify_class::TYPE_REDIRECT_QUESTION) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('重定向了你发起的问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a>		<?php } else if ($val['action_type'] == notify_class::TYPE_QUESTION_THANK) { ?>			<a href="<?php echo $val['p_url']; ?>"><?php echo $val['p_username']; ?></a> <?php _e('感谢了你发起的问题'); ?> <a href="<?php echo $val['key_url']; ?>"><?php echo $val['title']; ?></a>		<?php } else if ($val['action_type'] == notify_class::TYPE_CONTEXT) { ?>			<?php echo $val['content']; ?>		<?php } ?>	<?php } ?> <span>（<?php echo date('Y-m-d H:i:s', $val['add_time']); ?>）</span>	<div class="ex_more i_hide">    <?php if ($val['extend_count'] > 1) { ?>	<?php foreach($val['extend_details'] as $action_type => $extend) { ?>		<?php if ($action_type == notify_class::TYPE_NEW_ANSWER) { ?>			<p><?php echo $extend['count']; ?> <?php _e('个新回复, 按回答人查看'); ?>: <?php $count = 0; foreach($extend['users'] as $user) { ?><a href="<?php echo $user['url']; ?>"><?php echo $user['username']; ?></a><?php $count++; if ($count < count($extend['users'])) { ?>、<?php } ?><?php } ?></p>		<?php } else if ($action_type == notify_class::TYPE_ANSWER_COMMENT) { ?>			<p><?php echo $extend['count']; ?> <?php _e('个新评论, 按评论人查看'); ?>: <?php $count = 0; foreach($extend['users'] as $user) { ?><a href="<?php echo $user['url']; ?>"><?php echo $user['username']; ?></a><?php $count++; if ($count < count($extend['users'])) { ?>、<?php } ?><?php } ?></p>		<?php } else if ($action_type == notify_class::TYPE_ANSWER_AGREE) { ?>			<p><?php echo $extend['count']; ?> <?php _e('个新赞同, 按赞同者查看'); ?>: <?php $count = 0; foreach($extend['users'] as $user) { ?><a href="<?php echo $user['url']; ?>"><?php echo $user['username']; ?></a><?php $count++; if ($count < count($extend['users'])) { ?>、<?php } ?><?php } ?></p>		<?php } else if ($action_type == notify_class::TYPE_ANSWER_THANK) { ?>			<p><?php echo $extend['count']; ?> <?php _e('个新感谢, 按感谢者查看'); ?>: <?php $count = 0; foreach($extend['users'] as $user) { ?><a href="<?php echo $user['url']; ?>"><?php echo $user['username']; ?></a><?php $count++; if ($count < count($extend['users'])) { ?>、<?php } ?><?php } ?></p>		<?php } else if ($action_type == notify_class::TYPE_MOD_QUESTION) { ?>			<p><?php echo $extend['count']; ?> <?php _e('次编辑问题, 按编辑者查看'); ?>: <?php $count = 0; foreach($extend['users'] as $user) { ?><a href="<?php echo $user['url']; ?>"><?php echo $user['username']; ?></a><?php $count++; if ($count < count($extend['users'])) { ?>、<?php } ?><?php } ?></p>		<?php } else if ($action_type == notify_class::TYPE_REDIRECT_QUESTION) { ?>			<p><?php $count = 0; foreach($extend['users'] as $user) { ?><a href="<?php echo $user['url']; ?>"><?php echo $user['username']; ?></a><?php $count++; if ($count < count($extend['users'])) { ?>、<?php } ?><?php } ?> <?php _e('重定向了你发布的问题'); ?></p>		<?php } else if ($action_type == notify_class::TYPE_REMOVE_ANSWER) { ?>			<p><?php _e('%s 个回复被删除', $extend['count']); ?></p>		<?php } else if ($action_type == notify_class::TYPE_INVITE_QUESTION) { ?>			<p><?php $count = 0; foreach($extend['users'] as $user) { ?><a href="<?php echo $user['url']; ?>"><?php echo $user['username']; ?></a><?php $count++; if ($count < count($extend['users'])) { ?>、<?php } ?><?php } ?> <?php _e('邀请你参与问题'); ?></p>		<?php } ?>	<?php } ?><?php } ?>    </div></li><?php } ?><?php } ?>